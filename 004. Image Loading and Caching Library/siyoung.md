## 어떤 이미지 라이브러리 사용할까?

## Imageview 와 bitmap

안드로이드에서는 bitmap 또는 drawable 와 같은 리소스를 가지고 이미지를 화면에 표시할 수 있다. bitmap 을 로딩해 이미지를 표시하는 할 때 주의해서 사용을 해야한다.

* bitmap 은 쉽게 앱의 메모리한도를 고갈시킬 수 있다. 예를 들어 픽셀 폰은 카메라 사진이 4048x3036 픽셀(12 메가픽셀)까지 찍을수 있다. bitmap 구성이 ARGB_8888 인 경우, 기본적으로 안드로이드 2.3 (API level 9) 이상에서는 하나의 사진을 메모리에 로딩하기 위해 48MB 의 메모리를 차지하게 된다. 이렇게 큰 메모리를 요구하면 앱에서 사용할 수 있는 모든 메모리를 즉시 사용하게 될 수 있다.

* UI 스레드에서 비트맵을 로딩하는 것은 앱의 성능을 저하되어 늦은 응답성 또는 ANR 메시지와 같은 원인이 된다. 따라서 bitmap 을 작업할 때에는 스레드를 적절하게 관리하는 것이 중요하다.

* 앱에서 여러 bitmap 을 메모리에 로딩할 때에는, 메모리 관리와 디스크 캐싱이 필요하다. 그렇지 않으면, 앱의 응답성과 유동성이 나빠질 수 있다.

앱에서 bitmap 을 가져와서 디코딩하고 표시하기 위해서는 이미지 라이브러를 사용하는 것이 좋다. 이미지 라이브러리는 bitmap 과 관련된 다양하고 복잡한 과정을 대신 관리해주며, 손쉽게 사용할 수 있도록 되어있다.



## 안드로이드 이미지 라이브러리

### Picasso

이미지는 컨텍스트와 시각적 감각을 안드로이드 어플리케이션에 추가한다. Picasso 는 번거로움 없이 종종 단 한줄의 코드만으로도 이미지를 로딩할 수 있게 해준다. 어댑터에서 이미지뷰를 재사용하고 다운로드와 취소할 수 있다. 적은 메모리 사용으로 복잡한 이미지 변환을 할 수 있다. 자동 메모리와 디스크 캐싱을 지원한다.

### Glide

글라이드는 빠르고 효율적으로 미디어 관리 오픈소스이다. 미디어 디코딩, 메모리 및 디스크 캐싱 그리고 리소스 풀링을 간단하고 사용하기 쉽게 인터페이스로 래핑된 안드로이드 이미지 로딩 프레임워크이다. 페치, 디코딩, 그리고 비디오스틸, 이미지, 움직이는 GIF 를 표시할 수 있다. 개발자가 거의 모든 네트워크 스택에 연결할 수 있는 유연한 API 를 포함한다. 커스텀된 HttpUrlConnection 을 기본 스택으로 사용하지만, 구글 볼리 프로젝트 또는 스쿼어의 OkHttp 라이브러리를 대신 사용할 수 있다. 기본적으로 어떠한 이미지 목록도 부드럽고 빠르게 스크롤링 하는것이 초점이 맞춰져 있지만, 또한 거의 모든 경우 어디서라도 페치, 리사이즈, 그리고 원격 이미지를 표시가 필요할 때에도 효과적이다.

### Fresco

프레스코는 안드로이드 어플리케이션에서 이미지를 표시하기 위한 강력한 시스템이다. 이미지 로딩과 표시를 관리한다. 네트워크, 로컬 스토리지 또는 로컬 리소스로부터 이미지를 로드하고 이미지가 로드되기전까지 플레이스홀더를 표시한다. 메모리와 내부 스토리지 두 단계의 캐시를 가지고 있다. 안드로이드 4.0 이하에서, 이미지를 안드로이드 메모리의 특별한 영역에 두어 어플리케이션이 빠르고 OutOfMemoryError 가 적게 발생하도록 한다. 

### Coil

코일은 Coroutine Image Loader 의 약어로서 코틀린 코루틴 기반 만들어진 안드로이드 이미지 라이브러리이다. 메모리, 디스크 캐싱, 메모리에서 이미지의 다운샘플링, 비트맵 재사용, 자동 일시중지 및 취소 등의 많은 최적화 수행으로 빠르다. (앱에 이미 OkHttp 와 코루틴이 포함된 경우) 2000 개의 메소드만을 추가한다. 이는 피카소와 비슷한 수의 메소드를 가지거나 글라이드, 프레스코 현저히 적은 메소드를 가지며 가볍다는 것을 의미한다. API 는 코틀린 언어 기능을 활용하여 단순하고 적은 보일러 플레이트로 사용하기 쉽다. 코틀린 우선으로 코루틴, OkHttp, Okio, AndroidX Lifecycles 등의 모던한 라이브러리를 포함하고 있다.



[https://developer.android.com/topic/performance/graphics](https://developer.android.com/topic/performance/graphics)

[https://square.github.io/picasso/](https://square.github.io/picasso/)

[https://github.com/bumptech/glide](https://github.com/bumptech/glide)
